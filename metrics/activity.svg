<svg xmlns="http://www.w3.org/2000/svg" width="480" height="359" class="">
    <defs>
        <style/>
    </defs>
    <style>@keyframes animation-gauge{0%{stroke-dasharray:0 329}}@keyframes animation-rainbow{0%,to{color:#7f00ff;fill:#7f00ff}14%{color:#a933ff;fill:#a933ff}29%{color:#007fff;fill:#007fff}43%{color:#00ff7f;fill:#00ff7f}57%{color:#ff0;fill:#ff0}71%{color:#ff7f00;fill:#ff7f00}86%{color:red;fill:red}}svg{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:14px;color:#777}h2{margin:8px 0 2px;padding:0;color:#0366d6;font-weight:400;font-size:16px}h2 svg{fill:currentColor}section&gt;.field{margin-left:5px;margin-right:5px}.field{display:flex;align-items:center;margin-bottom:2px;white-space:nowrap}.field svg{margin:0 8px;fill:#959da5;flex-shrink:0}.row{display:flex;flex-wrap:wrap}.row section{flex:1 1 0}#metrics-end,.fill-width{width:100%}.chartist .ct-post{fill:rgba(127,127,127,.8)!important;color:rgba(127,127,127,.8)!important;font-size:9px;text-anchor:middle}.activity{margin-bottom:12px}.activity .field{width:100%;overflow:hidden;text-overflow:ellipsis;max-width:450px;white-space:nowrap;margin-bottom:0}.activity .field .content{flex-grow:1;text-overflow:ellipsis;overflow:hidden}.activity .commit .sha,.activity .issue,.activity .repo{display:inline;color:#58a6ff}.activity .code,span.code{background-color:#7777771f;padding:1px 5px;font-size:80%;border-radius:6px;color:#777;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;margin:0 4px -3px}.activity .user{font-weight:600}.activity .details,.activity .timestamp{padding-left:38px;display:flex;flex-direction:column;font-size:13px;color:#666}.activity .timestamp{font-size:10px;margin-top:4px}.activity .commit{display:flex;align-items:center}.activity .commit .sha,code{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace}.activity .commit .sha{margin-right:4px}.activity .commit .message{overflow:hidden;text-overflow:ellipsis;width:360px;white-space:nowrap}.activity .details&gt;.comment{overflow:hidden;text-overflow:ellipsis;display:block;width:420px;margin-top:6px;border-left:3px solid #777777b2;padding-left:6px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}code{background-color:#7777771f;display:inline-block;border-radius:6px;color:#777;padding:1px 5px;font-size:80%}code[class^=language-]{white-space:pre-wrap;width:97%;margin-top:4px}.token.comment{color:#690}.token.punctuation{color:#8a93a8}.token.number,.token.string{color:#2777aa}.token.operator{color:#106cbc}.token.trimmed{font-style:italic;color:#77777760}.space{margin-left:7px}:root{--color-calendar-graph-day-bg:#ebedf0;--color-calendar-graph-day-border:rgba(27,31,35,0.06);--color-calendar-graph-day-L1-bg:#9be9a8;--color-calendar-graph-day-L2-bg:#40c463;--color-calendar-graph-day-L3-bg:#30a14e;--color-calendar-graph-day-L4-bg:#216e39;--color-calendar-halloween-graph-day-L1-bg:#ffee4a;--color-calendar-halloween-graph-day-L2-bg:#ffc501;--color-calendar-halloween-graph-day-L3-bg:#fe9600;--color-calendar-halloween-graph-day-L4-bg:#03001c;--color-calendar-winter-graph-day-L1-bg:#0a3069;--color-calendar-winter-graph-day-L2-bg:#0969da;--color-calendar-winter-graph-day-L3-bg:#54aeff;--color-calendar-winter-graph-day-L4-bg:#b6e3ff;--color-calendar-graph-day-L4-border:rgba(27,31,35,0.06);--color-calendar-graph-day-L3-border:rgba(27,31,35,0.06);--color-calendar-graph-day-L2-border:rgba(27,31,35,0.06);--color-calendar-graph-day-L1-border:rgba(27,31,35,0.06)}</style>
    <style/>
    <foreignObject x="0" y="0" width="100%" height="100%">
        <div xmlns="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink" class="items-wrapper">
            <section>
                <h2 class="field">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16">
                        <path fill-rule="evenodd" d="M0 8a8 8 0 1116 0v5.25a.75.75 0 01-1.5 0V8a6.5 6.5 0 10-13 0v5.25a.75.75 0 01-1.5 0V8zm5.5 4.25a.75.75 0 01.75-.75h3.5a.75.75 0 010 1.5h-3.5a.75.75 0 01-.75-.75zM3 6.75C3 5.784 3.784 5 4.75 5h6.5c.966 0 1.75.784 1.75 1.75v1.5A1.75 1.75 0 0111.25 10h-6.5A1.75 1.75 0 013 8.25v-1.5zm1.47-.53a.75.75 0 011.06 0l.97.97.97-.97a.75.75 0 011.06 0l.97.97.97-.97a.75.75 0 111.06 1.06l-1.5 1.5a.75.75 0 01-1.06 0L8 7.81l-.97.97a.75.75 0 01-1.06 0l-1.5-1.5a.75.75 0 010-1.06z"/>
                    </svg>
                    Recent activity
                </h2>
                <div class="row">
                    <section>
                        <div class="row fill-width">
                            <section class="activity">
                                <div class="field">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16">
                                        <path fill-rule="evenodd" d="M2.75 2.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h2a.75.75 0 01.75.75v2.19l2.72-2.72a.75.75 0 01.53-.22h4.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25H2.75zM1 2.75C1 1.784 1.784 1 2.75 1h10.5c.966 0 1.75.784 1.75 1.75v7.5A1.75 1.75 0 0113.25 12H9.06l-2.573 2.573A1.457 1.457 0 014 13.543V12H2.75A1.75 1.75 0 011 10.25v-7.5z"/>
                                    </svg>
                                    <div class="content">
                                        Commented on
                                        <span class="issue">#40 Build for linux/arm</span>
                                    </div>
                                </div>
                                <div class="details">
                                    <div>opened by ItsDrike in <span class="repo">tmknight/docker-nordvpn</span></div>
                                    <div class="comment">
                                        Running:
                                        <code class="language-bash"><span class="token function">docker</span> run --cap-add NET_ADMIN <span class="token parameter variable">-e</span> <span class="token string">"TOKEN=[HIDDEN]"</span> <span class="token parameter variable">--sysctl</span> <span class="token assign-left variable">net.ipv6.conf.all.disable_ipv6</span><span class="token operator">=</span><span class="token number">1</span> <span class="token parameter variable">-d</span> tmknight88/nordvpn:3.15.5-2.3.3-rc</code>
                                        The healthcheck (from
                                        <code>docker ps</code>
                                        ) says
                                        <code>(health: starting)</code>
                                        for a bit over a minute, then goes to
                                        <code>Up 2 minutes (unhealthy)</code>
                                        . This is the logs from the container:
Output of
                                        <code>docker logs [container id]</code>
                                        <code class="language-multiline" xml:space="preserve">2023-03-17 19:17:00+0000	INFO	Firewall is up; traffic will be routed through vpn
2023-03-17 19:17:00+0000	INFO	Enabling connection to secure interface and docker network
<span class="token trimmed">(29 more lines were trimmed)</span></code>
                                        Running
                                        <code>docker exec -it [container id] curl -v ifconfig.io</code>
                                        blocks for ~10 seconds, then ends with:
                                        <code class="language-multiline" xml:space="preserve">* Could not resolve host: ifconfig.io
* Closing connection 0
<span class="token trimmed">(1 more line was trimmed)</span></code>
                                    </div>
                                </div>
                                <div class="timestamp">17 Mar 2023, 19:23:55</div>
                            </section>
                        </div>
                        <div class="row fill-width">
                            <section class="activity">
                                <div class="field">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16">
                                        <path fill-rule="evenodd" d="M2.75 2.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h2a.75.75 0 01.75.75v2.19l2.72-2.72a.75.75 0 01.53-.22h4.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25H2.75zM1 2.75C1 1.784 1.784 1 2.75 1h10.5c.966 0 1.75.784 1.75 1.75v7.5A1.75 1.75 0 0113.25 12H9.06l-2.573 2.573A1.457 1.457 0 014 13.543V12H2.75A1.75 1.75 0 011 10.25v-7.5z"/>
                                    </svg>
                                    <div class="content">
                                        Commented on
                                        <span class="issue">#40 Build for linux/arm</span>
                                    </div>
                                </div>
                                <div class="details">
                                    <div>opened by ItsDrike in <span class="repo">tmknight/docker-nordvpn</span></div>
                                    <div class="comment">
                                        <i>Why are you installing nord via your dockerfile?</i>
                                        As I said, I sometimes need to change the connection and hop to another VPN server, I do this using the official CLI app, which is really just a wrapper that sends commands to the nordvpnd socket, which I manually mount from the VPN container into my app container. I then run the
                                        <code>nordvpn</code>
                                        command from my app container, to change VPNs. (Again though, this connection problem happens before I ever even run the CLI program, and it works fine under x86).
                                        <i>Does your app require ports outside of 80/443 that need to be opened?</i>
                                        The app is pretty much just using selenium remote driver from the
                                        <code>chrome</code>
                                        container, which is listening on port 4444, though this isn't a port that's supposed to be available from outside of the docker network, and is only needed to be accessible from my app container.
The app is then using selenium to visit various websites, though it also makes direct connections using urllib (which essentially just wraps raw sockets for HTTP communication), and pulls data from some APIs, it's mostly just GET requests, though I do some POST requests too in this way.
However the app itself doesn't need any ports open that should be accessible from outside docker, it's uploading the results via those POST requests to another external API server, but it's not listening on any port itself.
                                        <i>Have you confirmed that the main VPN container is reaching the internet - what is the results of this (your ISP IP or a Nord IP): docker exec -it [container-name] curl -s ifconfig.co</i>
                                        I don't seem to be getting any output from that command. With healthcheck, this is what I'm seeing:
Output from multiple commands
                                        <code class="language-multiline language-bash" xml:space="preserve"><span class="token punctuation">[</span>user@server project_dir<span class="token punctuation">]</span>$ <span class="token function">docker-compose</span> up
Creating network <span class="token string">"project_dir_vpn_network"</span> with driver <span class="token string">"bridge"</span>
<span class="token trimmed">(45 more lines were trimmed)</span></code>
                                        Notice that I ran the docker exec with
                                        <code>time</code>
                                        , showing that it actually took a bit over 10 seconds to run, however no output to be seen.
                                    </div>
                                </div>
                                <div class="timestamp">17 Mar 2023, 17:36:37</div>
                            </section>
                        </div>
                        <div class="row fill-width">
                            <section class="activity">
                                <div class="field">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16">
                                        <path fill-rule="evenodd" d="M10.5 7.75a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zm1.43.75a4.002 4.002 0 01-7.86 0H.75a.75.75 0 110-1.5h3.32a4.001 4.001 0 017.86 0h3.32a.75.75 0 110 1.5h-3.32z"/>
                                    </svg>
                                    <div class="content">
                                        Pushed 1 commit in
                                        <span class="repo">ItsDrike/ItsDrike</span>
                                    </div>
                                </div>
                                <div class="details">
                                    <div>on branch <span class="code">master</span></div>
                                    <div class="commit">
                                        <div class="sha">#eae91ea</div>
                                        <div class="message">Updated with Dev Metrics</div>
                                    </div>
                                </div>
                                <div class="timestamp">17 Mar 2023, 01:36:16</div>
                            </section>
                        </div>
                    </section>
                </div>
            </section>
        </div>
        <div xmlns="http://www.w3.org/1999/xhtml" id="metrics-end"></div>
    </foreignObject>
</svg>